
<html>
<head>
</head>
<body bgcolor="blue">

<canvas id="can" width="800" height="600" style="background-color: white;" />


<script>

  var source = 'social.png';
  var size = { w:1418, h:1013 };
  //var bgcolor = 'white';
  var points = [
    { x: 675, y: 325, zoom: 1.00, r: Math.PI * 2 },
    { x: 700, y: 850, zoom: 0.75, r: Math.PI * 2 },
    { x: 575, y: 410, zoom: 2.00, r: Math.PI * 1 },
    { x: 175, y: 525, zoom: 3.00, r: Math.PI * 2 },
  ];
  var position = -1;

  var canvas = document.getElementById('can');
  var context = canvas.getContext('2d');
  var image = new Image();
  //image.onload = function () {
  //};
  image.src = source;
  //if (bgcolor) canvas.style['background-color'] = bgcolor;

  function clear () {

    context.clearRect(0, 0, canvas.width, canvas.height);
  }

  function draw (x, y, zoom, r) {

    clear();

    context.save();

    context.rotate(r);
    //context.translate(canvas.width / 2, canvas.height / 2);

    var nw = size.w * zoom;
    var nh = size.h * zoom;
    var nx = x * zoom;
    var ny = y * zoom;

    context.drawImage(
      image,
      canvas.width / 2 - nx, canvas.height / 2 - ny,
      nw, nh);

    context.restore();
  }

  function move (a, b, progress) {
    var tx = a.x + (b.x - a.x) * progress;
    var ty = a.y + (b.y - a.y) * progress;
    var tz = a.zoom + (b.zoom - a.zoom) * progress;
    var tr = a.r + (b.r - a.r) * progress;
    draw(tx, ty, tz, tr);
  }

  function do_move (a, b, progress) {
    setTimeout( function () { move(a, b, progress); }, 500 * progress);
  }

  function next () {

    var a = points[position] || points[0];

    position = position + 1;
    if (position >= points.length) position = 0;

    var b = points[position];

    for (var i = 0.1; i <= 1.0; i = i + 0.1) {
      do_move(a, b, i);
    }
  }

  canvas.onclick = function () {
    next();
  };
</script>
</body>
</html>

